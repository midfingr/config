!function(){"use strict";!function(a){function b(b){if(b.origin===d&&a===b.source){var e=b.data;switch(e.type){case"isInstalled":a.postMessage({type:"isInstalledResult",data:c.getManifest().version},d);break;case"launchApp":c.sendMessage("bg:launchApp");break;case"updateLicense":c.sendMessage("bg:updateLicense");break;case"getLicenseInfo":c.sendMessage("bg:getLicenseInfo",function(b){a.postMessage({type:"getLicenseInfoResult",data:b},d)});break;case"getSignInToken":c.sendMessage("bg:getSignInToken",function(b){c.lastError||!b?(console.debug(c.lastError),a.postMessage({type:"getSignInTokenResult",data:!1},d)):a.postMessage({type:"getSignInTokenResult",data:b},d)});break;case"oauth2AuthResult":c.sendMessage({type:"oauth2AuthResult",data:e.data})}}}var c=chrome.runtime,d=a.location.origin;a.addEventListener("message",b,!1)}(window,document)}();