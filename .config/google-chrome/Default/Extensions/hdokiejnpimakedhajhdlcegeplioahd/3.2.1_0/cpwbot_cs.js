var CPWbot_cs;CPWbot_cs||(CPWbot_cs=new CPWbot_cs_lib);
function CPWbot_cs_lib(){this.JSON=JSON;JSON||(this.JSON=LPJSON);this.alert=alert;this.fill_field=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;var c=0,d=this.getElementByType(a,b);d?(verbose_log(sprintf("filling element ty=%s val=%s should_click=%d should_fill_via_keys=%d",b.id_type,b.id_value,b.should_click,b.should_fill_via_keys)),d.focus(),b.should_click&&(CPWbot_cs.do_click(a,d),"function"==typeof sendKey&&sendKey("Z",d),fire_onchange(d,!0,!0)),b.should_fill_via_keys&&g_isfirefox?fill_field_via_keys(d,
b.field_value):d.value=b.field_value,fire_onchange(d),c=1):verbose_log("unable to find element ty="+b.id_type+" val="+b.id_value);sendBG({cmd:"cpwbot_fill_ack",url:get_doc_location_href(a),docstate:a.readyState,req_id:b.req_id,id_type:b.id_type,id_value:b.id_value,found:c?1:0,should_click:b.should_click,should_fill_via_keys:b.should_fill_via_keys});return!0};this.click_field=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;var c=this.getElementByType(a,b),d=0;c?(verbose_log("[docnum:"+g_docnum+
"][state:"+b.pwchangestate+"] clicking element ty="+b.id_type+" val="+b.id_value),this.do_click(a,c),d=1):verbose_log("[docnum:"+g_docnum+"][state:"+b.pwchangestate+"] unable to find element in this frame to click : ty="+b.id_type+" val="+b.id_value);sendBG({cmd:"cpwbot_click_ack",url:get_doc_location_href(a),docstate:a.readyState,pwchangestate:b.pwchangestate,msgid:b.msgid,id_type:b.id_type,id_value:b.id_value,found:d?1:0});return!0};this.execute_script=function(a,b){a||(a=LP_derive_doc());if(!b||
!a||!Math)return!1;if(!g_isfirefox||!a||a.defaultView){var c=b.js,d=b.hash,g=null;if(c){var e=c,h;h="function"==typeof fasthash?fasthash:"function"==typeof crc32?crc32:"function(j) { if (j) { return j.length; } return 0; }";verbose_log(sprintf("comparing %s with %s",d,h(e)));if(d!=h(e))return console_error("failed javascript consistency check"),!1;d="__lpresult"+Math.floor(Math.random()*Math.pow(2,31));verbose_log("["+g_docnum+"] executing JS: "+c);c=null===a.body?"try{"+c+"}catch(e) { }":"try {"+
sprintf("var _res = document.getElementById('%s');  if (!_res) { _res = document.createElement('div');  _res.id='%s'; _res.style.display='none'; _res.style.left='-1000px'; document.body.appendChild(_res); } { ",d,d)+c+"} if (_res) { if (typeof(_res.innerText) != 'undefined') { _res.innerText = document._g_result; } else { _res.textContent = document._g_result; } document._g_result = null; }} catch(e) { }";run_custom_js(a,c);if(c=a.getElementById(d))g=LP_elt_get_text(c),"undefined"==typeof g&&(g=null),
c.parentElement.removeChild(c)}sendBG({cmd:"cpwbot_js_ack",url:get_doc_location_href(a),docstate:a.readyState,req_id:b.req_id,result:CPWbot_cs.JSON.stringify(g)});return!0}};this.getElementByType=function(a,b){a||(a=LP_derive_doc());if(!b||!a||g_isfirefox&&a&&!a.defaultView)return null;var c=null,d=null,d=b.id_type,g=b.id_value,e=666;if(d&&g)switch(d){case "id":c=a.getElementById(g);break;case "name":(d=a.getElementsByName(g))&&0<d.length&&(c=d[0]);break;case "xpath":g_isie&&"undefined"!=typeof init_LPfn&&
(init_LPfn()&&LPfn)&&(e=LPfn.getDocumentMode(a));8>e?alert("old IE - does not bundle in XPATH support. TODO "):c=LP_getElementByXPath(a,g);break;default:!0}return c};this.getElementsByType=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return null;var c=null,d=[],c=b.id_type,g=b.id_value,e=666;if(c&&g)switch(c){case "id":(c=a.getElementById(g))&&d.push(c);break;case "name":d=a.getElementsByName(g);break;case "xpath":g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(e=LPfn.getDocumentMode(a));
8>e?this.alert("old IE - does not bundle in XPATH support. TODO "):d=LP_getElementsByXPath(a,g);break;default:!0}return d};this.field_is_displayed=function(a,b){a||(a=LP_derive_doc());return!b||!a?!1:lpIsVisible(b)?!0:!1};this.do_click=function(a,b){a||(a=LP_derive_doc());if(!b||!a)return!1;"undefined"!=typeof b.disabled&&b.disabled&&(b.disabled=!1);b.focus();g_isfirefox?fireEvent(a,b,"click","MouseEvents"):LP_fireEvent(b,"click","MouseEvents");return!0};this.decode_fields_metainfo=function(a){var b=
"";a&&(b=this.JSON.parse(a));return b};this.validate_page_fields=function(a,b,c,d,g,e,h,l){if(!a)return null;g=!0;var f={};verbose_log("running validate_page_fields in frame "+g_docnum+" for "+b);c||(c=[]);d||(d=[]);l||(l=[]);b=!1;var n=0,j=0,p=0,q=0,k;if(e){k=RegExp(e,"i");var m=punycode.URLToASCII(a.location.href);if(k.exec(m))return f.num_ok_matches=null,f.num_okfields=null,f.found_bad_match=null,f.num_badfields=null,f.url_success_match=!0,f.url_failure_match=!1,f.do_retry=!1,f.retval=!0,f.found_interactive=
!1,verbose_log("["+g_docnum+"] returning true, matched success url "+e),g_isdebug&&(set_innertext(f,LP_elt_get_text(a.body)),f.innerHTML=a.body.innerHTML),f}if(h&&(k=RegExp(h,"i"),m=punycode.URLToASCII(a.location.href),k.exec(m)))return f.num_ok_matches=null,f.num_okfields=null,f.found_bad_match=null,f.num_badfields=null,f.url_failure_match=!0,f.url_success_match=!1,f.do_retry=!1,f.retval=!1,f.found_interactive=!1,verbose_log("["+g_docnum+"] returning false, matched failure url "+h),g_isdebug&&(set_innertext(f,
LP_elt_get_text(a.body)),f.innerHTML=a.body.innerHTML),f;for(e=0;e<c.length;e++)if(h=c[e].id_type,k=c[e].id_value,m=this.getElementByType(a,{id_type:h,id_value:k}))n++,j++;else{verbose_log("["+g_docnum+"] DID NOT FIND REQUIRED FIELD ty="+h+" val="+k);break}j<c.length&&(b=!0,g=null);if(g)for(e=0;e<d.length;e++)if(h=d[e].id_type,k=d[e].id_value,m=this.getElementByType(a,{id_type:h,id_value:k})){n++;p=1;verbose_log("["+g_docnum+"] FOUND REJECT FIELD "+k);b=g=!1;break}else b=!0;for(e=0;e<l.length;e++)if(h=
l[e].id_type,k=l[e].id_value,m=this.getElementByType(a,{id_type:h,id_value:k})){n++;q=1;verbose_log("["+g_docnum+"] FOUND INTERACTIVE FIELD "+k);b=!1;break}if(0===n&&(0<c.length||0<d.length))g=null;f&&(f.num_ok_matches=j,f.num_okfields=c.length,f.found_bad_match=p,f.num_badfields=d.length,f.do_retry=b,f.retval=g,f.url_success_match=!1,f.url_failure_match=!1,f.found_interactive=q,g_isdebug&&(set_innertext(f,LP_elt_get_text(a.body)),f.innerHTML=a.body.innerHTML));return f};this.interrogate=function(a,
b,c){if(b&&!(10<c)){var d=b.desc,g=b.proceed_on_interactive;"undefined"==typeof c&&(c=1);var e=a.readyState;(g?"complete"==e||"interactive"==e:"complete"==e)?g_cpwbot&&CPWbot_cs&&CPWbot_cs.interrogate_validate(a,b):(verbose_log("["+g_docnum+"] retry "+d+" in 500ms doc state is "+a.readyState),setTimeout(function(){CPWbot_cs.interrogate(a,b,c+1)},500))}};this.interrogate_validate=function(a,b,c){if(!b||10<c)return!1;if("undefined"==typeof c||null===c)c=1;var d=b.desc,g=b.required_fields,e=b.rejected_fields,
h=b.required_url,l=b.rejected_url,f=b.interactive_fields,n=b.id,j=b.validate_timeout,p=b.timestamp,p=((new Date).getTime()-p)/1E3;if("undefined"==typeof j||null===j)j=0;if(0<j&&c>=j/2E3)return verbose_log("terminate loop  ["+g_docnum+"] VT:"+j+" T:1000 ctr"+c+" elapsed time is "+p+" sec"),!1;verbose_log("WTF??  ["+g_docnum+"] VT:"+j+" T:1000 ctr"+c+" elapsed time is "+p+" sec");var q=CPWbot_cs.decode_fields_metainfo(g),k=CPWbot_cs.decode_fields_metainfo(e),f=CPWbot_cs.decode_fields_metainfo(f);if(0===
q.length&&0===k.length&&!l&&!h)return 0<f.length&&!0,verbose_log("["+g_docnum+"] warning: interrogate rcvd no inputs or urls to check against"),j=!0,sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+c,url:get_doc_location_href(a),docstate:a.readyState,desc:d,id:n,required_fields:g,rejected_fields:e,required_url:h,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(m),result:CPWbot_cs.JSON.stringify(j)}),!0;var m=CPWbot_cs.validate_page_fields(a,d,q,k,j,h,l,f);if(null===m)return null;j=m.retval;
m.do_retry&&null===j?(verbose_log("["+g_docnum+"] ctr="+c+" elapsed="+p+" sec, validate_page_fields "+d+" retry in 1 second"),setTimeout(function(){var f=CPWbot_cs.interrogate_validate(a,b,c+1);f||(f=0===q.length&&0<k.length||0<q.length&&0<k.length&&0<m.num_ok_matches?!0:!1,sendBG({cmd:"cpwbot_validate_state_result",state:"STATE_TIMEDOUT",url:get_doc_location_href(a),docstate:a.readyState,desc:d,id:n,required_fields:g,rejected_fields:e,required_url:h,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(m),
result:CPWbot_cs.JSON.stringify(f)}))},1E3)):(null===j&&(verbose_log("["+g_docnum+"] cpwbot_validate_state_result retval===null FIXME"),j=!1),sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+c,url:get_doc_location_href(a),docstate:a.readyState,desc:d,id:n,required_fields:g,rejected_fields:e,required_url:h,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(m),result:CPWbot_cs.JSON.stringify(j)}));return!0};this.do_result_div=function(a,b){if(!a||!g_isdebug)return!1;var c=a.getElementById("__lpresultdiv");
if(!c&&a.body&&(c=a.createElement("div")))c.id="__lpresultdiv",c.style.left="-999px",c.style.position="absolute",a.body.appendChild(c);return LP_elt_set_text(c,b)};this.hide_result_div=function(a){if(!a)return!1;(a=a.getElementById("__lpresultdiv"))&&a.parentElement.removeChild(a);return!0};return!0}
function display_cpw_message_loop(a,b,c){if(a){if(null===b){if(null===a.getElementById("cpwmsg"))return;g_ischrome?chrome_runtime_sendMessage({cmd:"getcpwmsg"},function(b){b&&b.msg&&display_cpw_message(a,b.msg);1===b.minimize_state&&minimize_cpw_dialog(a)}):"undefined"!=typeof safari?(safari.self.removeEventListener("message",handleMessage,!1),safari.self.addEventListener("message",handleMessage,!1),safari.self.tab.dispatchMessage("getcpwmsg",{})):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&
window.parent.postMessage({messagetype:"getcpwmsg"},"*")}else display_cpw_message(a,b,c);setTimeout(function(){display_cpw_message_loop(a,null,null)},51)}}
function update_msgdiv_css(a,b,c,d,g){if(!a)return!1;b="position:absolute !important; visibility:visible !important;  border-style:transparent!important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; height: "+b+" !important ; width: "+c+" !important; top:"+g+" !important; left:"+d+" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 1px !important; overflow:auto;";if(a=a.getElementById("cpwmsg"))a.style.cssText=
b;else return!1;return!0}var OVERLAY_MESSAGE_WIDTH="500px",OVERLAY_MESSAGE_HEIGHT="200px",OVERLAY_MESSAGE_HEIGHT_MINIMIZED="70px",OVERLAY_MESSAGE_TOP="50px",OVERLAY_MESSAGE_LEFT="50px";
function display_cpw_message(a,b,c){if(a){var d=a.getElementById("cpwmsg");if(d)pass;else{d=a.createElement("div");d.style.width="100%";d.style.height=window.innerHeight+"px";d.style.opacity="0.7";d.style.backgroundColor="#666666";d.id="cpwbg";d.style.position="absolute";d.style.top="0px";d.style.left="0px";a.body.appendChild(d);var g;if(d=a.createElement("div")){d.id="cpwmsg";a.body.appendChild(d);update_msgdiv_css(a,OVERLAY_MESSAGE_HEIGHT,OVERLAY_MESSAGE_WIDTH,OVERLAY_MESSAGE_TOP,OVERLAY_MESSAGE_LEFT);
d.setAttribute("role","status");var e=a.createElement("div");e.style.cssText="height: 20px !important; padding: 2px 0px 0px 20px; background-color: #ffffff !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGQjdGMTE3NDA3MjA2ODExQkVEQ0Y4NkVBMzlCNDIwRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRjA2MTdBMTU2REYxMURGQUNGOUQ1RDAwQTc4OEQzOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRjA2MTdBMDU2REYxMURGQUNGOUQ1RDAwQTc4OEQzOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3ODAxMTc0MDcyMDY4MTFBQjA4RDY4QTAyQUEzMTc1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZCN0YxMTc0MDcyMDY4MTFCRURDRjg2RUEzOUI0MjBEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+1Gef5AAAA69JREFUeNpUVF1oXEUU/mbm7t67m82mdtsGUgXbB6tWC1WhoKh5UST0RapQ2kLJgxVSqsEfBCNaH8yLLyr1IbHFoLYPVmkfCv7giz+tVlRsrQRkC01MzDZm02Zzd+//Hb+ZpKiznJ17z8z55nzfOXeEXlJi5sv7X758pGcommtVlcohhBYS2swQnFeGQG7eNGcttJkDv+Pn/VPvPzy68JpofLHjwIWDG8aieh2KgQZA0aTO7TMR7dB6xXKhkK2CQks0uRbsmXnF+euztbuD+hSU5DLXDIjKQm7L4DgFOCaa/jzXSAhu0IQqI+ExGfeuzRXOnqnslVknVFrYpO2SQgxvcx9u+/Bt9L7+DHTWhJcuYv3uAWw5MwHv3q3MMsGNvDRNCu04BkSbk4xDp5AesOWT91Dbfjci34c/dgzu7J/oGxlG5c7b0fPQDpzd1g99pQEpS0iplZSaJCksLOOc9HIUgmtYePcoDLRbqaB3+GmU9+9BF0HMaEycQD71BxwpLH2sZCScVCcis2F0Zi0UECE+9g6aj/Wj9sTjqD01iCxObO1aF3/D/HMvoFu3mQmQosfAICUrJ80zBNSl4Eps3DeILreAov834slJxMlOyFIZqsQgiuxfuIja3l1Q1Q2Iix7qx0+h3WgSiBlpaGbEn+di3ciz8G7ZiDxJoaMYrcVF/HcUdg5gzZO7KDZLwwR+/+prxI0Gs9VwjNQMQ0Z2c1PTEMstwACFIbRS/wMSaQrhuuwRxRaQSEh5RSXAySxXiagTYOb5w3C5VOksoPTAg5CHhqgbt9oGI+inpxAf/wh+uYZ2wUN7epa7C6QdEYhli6l/aE77+ScDCe24KIwOAKSLuQbAQ8SmW4FHH8HS+ATS+nmq2sUolp9ACbmxnykHqZlejkQJgSjCfelFePdth1cuI/zgBPzRN1EseXBv7kPljcO4XlyDUHiI+blEpLUCxL/QfC80n5Vped3AXXegq1qFnp3D9MnTmP/uW8Q//oJKrcau34Sldb24pjN0GGNiY200yqWIzUdpO0khDRJ8v38Imwf3IWk2Mb98HRX6L781jtlfL2HyyDiiVpsSuLarU5MRs3HiJEn/BTLCKzpZ2rExew94qFr/4rnz8M99Y3URBDG6pqsVC/kg12+98nGHrwkXjBmtAgIk6KaXmvHsZVobRYZUrbhmT7x68FXuuume8HMRXIUcH668+sPJ0kE3Q7e5foS9l+ztYQ2rGd8wXmx27mgdO9uC0yNH24f+EWAAmnbJJ+zxvWgAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;";
e.style.fontWeight="bold";e.id="cpwtitle";e.addEventListener("click",function(){toggle_cpw_dialog(a);return!1},!1);g=a.createElement("div");g.id="msgbody";g.style.fontSize="18px";g.style.padding="4px";var h=a.createElement("div");h.style.padding="4px";var l=a.createElement("span"),f=a.createElement("span");f.style.display="inline-block";f.style.marginLeft="3px";f.style.marginRight="3px";var n=a.createElement("span");c?g_isfirefox?(n.textContent=c,f.textContent="|"):(set_innertext(n,c),set_innertext(f,
"|")):(f.style.display="none",n.style.display="none");c=gs("LastPass Automatic Password Change");g_isfirefox?l.textContent=c:set_innertext(l,c);e.appendChild(l);e.appendChild(f);e.appendChild(n);d.appendChild(e);h.style.marginTop="5px";h.style.marginBottom="5px";h.style.fontSize="12px";h.style.fontStyle="italic";c=gs("Please do not close this window, while LastPass changes your password.");g_isfirefox?h.textContent=c:set_innertext(h,c);d.appendChild(h);d.appendChild(g)}}g||(g=a.getElementById("msgbody"));
g&&(g_isfirefox?g.textContent=b:set_innertext(g,b))}}function cpw_hide_overlay(a){if(!a)return!1;g_isfirefox||(a=a.getElementById("lpiframeoverlaycpwmsg"))&&a.parentNode.removeChild(a);return!0}function toggle_cpw_dialog(a){if(!a)return!1;var b=a.getElementById("msgbody");if(a.getElementById("cpwmsg")&&b)"none"==b.style.display?(maximize_cpw_dialog(a),maximize_cpw_bg()):(minimize_cpw_dialog(a),minimize_cpw_bg());else return!1;return!0}
function maximize_cpw_dialog(a){if(!a)return!1;var b=OVERLAY_MESSAGE_TOP,c=OVERLAY_MESSAGE_LEFT,d=OVERLAY_MESSAGE_WIDTH,g=OVERLAY_MESSAGE_HEIGHT,e=a.getElementById("msgbody");return a.getElementById("cpwmsg")&&e?("block"!=e.style.display&&(update_msgdiv_css(a,g,d,b,c),e.style.display="block"),!0):!1}
function minimize_cpw_dialog(a){if(!a)return!1;var b=OVERLAY_MESSAGE_TOP,c=OVERLAY_MESSAGE_LEFT,d=OVERLAY_MESSAGE_WIDTH,g=OVERLAY_MESSAGE_HEIGHT,e=a.getElementById("msgbody");return a.getElementById("cpwmsg")&&e?("none"!=e.style.display&&(g=OVERLAY_MESSAGE_HEIGHT_MINIMIZED,update_msgdiv_css(a,g,d,b,c),e.style.display="none"),!0):!1}
function do_cpw_overlay_handler(a,b){if(CPWbot_cs&&CPWbot_cs.JSON&&a&&a.msg){var c=CPWbot_cs.JSON.parse(a.msg);if(c){var d=encodeURIComponent(c.symbolic);g_isfirefox?(lpShowOverlay(b,0,c.msg),lpSetOverlayStatus(b,""),lpisadmin&&do_cpw_debug(b)):(c=encodeURIComponent(c.msg),verbose_log("show overlay msg="+c),showoverlay(a,"&cpwbot="+c+"&symbolic="+d))}else verbose_log("failure, !msg")}}
function ping_req_handler(a,b){var c=(new Date).getTime(),d=0;"undefined"!=typeof b.timestamp&&b.timestamp&&(d=c-b.timestamp);var g="";try{g=punycode.URLToASCII(a.location.href)}catch(e){}sendBG({cmd:"ping_ack",timestamp:c,delta:d,id:b.id,url:g,docstate:get_docstate(a),flags:assemble_docflags_object(a)})}function get_docstate(a){return!a?null:"undefined"!=typeof a.readyState&&a.readyState?a.readyState:"undef"}
function assemble_docflags_object(a){return!a?null:{is_special_site:g_is_specialsite,in_cpwbot:g_in_cpwbot,tutorial_flags:g_tutorial_flags,need_dynamic_delay:g_need_dynamic_delay,has_frameset:0<a.getElementsByTagName("FRAMESET").length}}
function run_custom_js(a,b){try{if(""!=b){var c=lp_gettld_url(a.location.href);if(!(("facebook.com"==c||"live.com"==c||"outlook.com"==c)&&0==a.getElementsByTagName("form").length)){b=b.replace(/lpcurrpage./g,"");b="try{"+b+"}catch(e){}";var d=a.createElement("script"),g=a.createTextNode(b);d.appendChild(g);a.body&&a.body.appendChild(d)}}}catch(e){}}function do_result_div_handler(a,b){g_isdebug&&CPWbot_cs&&CPWbot_cs.do_result_div(a,b.msg);return!0}
function hide_result_div_handler(a){g_isdebug&&CPWbot_cs&&CPWbot_cs.hide_result_div(a);return!0}function need_dynamic_delay(a){if(!a)return!1;var b=LP_elt_get_text(a.head);return 0<=LP_elt_get_text(a.body).indexOf("\x3c!-- ko")||0<=b.indexOf("require")||0<=b.indexOf("lazyload")?!0:!1}
function minimize_cpw_bg(){g_ischrome?chrome_runtime_sendMessage({cmd:"minimize_cpw_dialog"},function(){pass}):"undefined"!=typeof safari?safari.self.tab.dispatchMessage("minimize_cpw_dialog",{}):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&window.parent.postMessage({messagetype:"minimize_cpw_dialog"},"*")}
function maximize_cpw_bg(){g_ischrome?chrome_runtime_sendMessage({cmd:"maximize_cpw_dialog"},function(){pass}):"undefined"!=typeof safari?safari.self.tab.dispatchMessage("maximize_cpw_dialog",{}):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&window.parent.postMessage({messagetype:"maximize_cpw_dialog"},"*")}function get_doc_location_href(a){try{return a.location?a.location.href:""}catch(b){return""}};
